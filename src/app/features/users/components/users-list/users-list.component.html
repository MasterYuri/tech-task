<ng-container *ngIf="users">
  <div class="table__wrapper">
    <table mat-table [dataSource]="users" class="mat-elevation-z8">
      <ng-container matColumnDef="avatar">
        <th mat-header-cell *matHeaderCellDef>Avatar</th>
        <td mat-cell *matCellDef="let user">
          <img class="user__avatar" [src]="user.avatar" />
        </td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let user">{{ user.first_name }}</td>
      </ng-container>

      <ng-container matColumnDef="lastname">
        <th mat-header-cell *matHeaderCellDef>Lastname</th>
        <td mat-cell *matCellDef="let user">{{ user.last_name }}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        *matRowDef="let user; columns: displayedColumns"
        [routerLink]="['../details', user.id]"
      ></tr>
    </table>

    <mat-paginator
      *ngIf="meta"
      [length]="meta.total"
      [pageSize]="meta.per_page"
      (page)="loadUsers($event.pageIndex + 1)"
    >
    </mat-paginator>
  </div>
</ng-container>
